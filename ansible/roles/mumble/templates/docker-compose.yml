---
version: "3.5"
services:
  mumble:
    container_name: "mumble"
    image: magicalex/mumble:latest
    environment:
      - UID={{ uid }}
      - GID={{ gid }}
    volumes:
      - {{ mb_config_folder }}:/opt/mumble/conf:ro
      - {{ mb_data_folder }}:/opt/mumble/data
      - /etc/letsencrypt:/opt/mumble/cert:ro
    ports:
      - "64738:64738"
      - "64738:64738/udp"

    # workaround for https://wiki.alpinelinux.org/wiki/Release_Notes_for_Alpine_3.13.0#musl_1.2
    # this should be fixed after the system updates docker to 19.03.9
    security_opt:
      - "seccomp=unconfined"
