rest:
  - scan_interval: 10
    resource: http://192.168.0.87/report
    method: GET
    sensor:
      - name: Enthärtung power
        value_template: '{{ value_json.power }}'
        unit_of_measurement: 'W'
        device_class: power
        state_class: measurement
      - name: Enthärtung energy
        value_template: '{{ value_json.Ws }}'
        unit_of_measurement: 'W'
        state_class: measurement
        device_class: power
      - name: Enthärtung relay
        value_template: '{{ value_json.relay }}'
      - name: Enthärtung temperature
        value_template: '{{ value_json.temperature }}'
  - scan_interval: 10
    resource: http://192.168.0.88/report
    method: GET
    sensor:
      - name: Regenwasser power
        value_template: '{{ value_json.power }}'
        unit_of_measurement: 'W'
        device_class: power
        state_class: measurement
      - name: Regenwasser energy
        value_template: '{{ value_json.Ws }}'
        unit_of_measurement: 'W'
        state_class: measurement
        device_class: power
      - name: Regenwasser relay
        value_template: '{{ value_json.relay }}'
      - name: Regenwasser temperature
        value_template: '{{ value_json.temperature }}'

sensor:
  - name: Enthärtung energy total
    platform: integration
    source: sensor.enthartung_energy
    method: left
  - name: Regenwasser energy total
    platform: integration
    source: sensor.regenwasser_energy
    method: left

switch:
  - name: Enthärtung
    platform: mystrom
    host: 192.168.0.87
  - name: Regenwasser
    platform: mystrom
    host: 192.168.0.88
